@model IEnumerable<ArticleHomepageViewModel>

@{
    foreach (var article in Model)
    {
        <div class="panel panel-default">
            <div class="panel-heading">
                @Html.ActionLink($"{article.AuthorName}", "All", "Articles", new { area = "Blog", authorName = article.AuthorName }, new { @class = "author-name" }) <span> / @article.PublishDate.Value.ToString("d MMMM yyyy")</span>
                @if (User.IsInRole("Admin"))
                {
                    <div class="btn-group" style="float: right;">
                        <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="glyphicon glyphicon-cog"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="@Url.Action("EditArticle", "Articles", new { area ="Blog", id = $"{article.Id}" })"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="@Url.Action("DeleteArticle", "Articles", new { area ="Blog", id = $"{article.Id}" })"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Delete</a></li>
                        </ul>
                    </div>
                }
                <div class="clearfx"></div>
            </div>
            <div class="panel-body">
                <div class="media">
                    <div class="media-left">
                        <a href="#">
                            @if (article.ImageUrl == null)
                            {
                                <img class="media-object" src="http://placehold.it/250x150" alt="Kurt" style="max-width: 250px">
                            }
                            else
                            {
                                <img class="media-object" src="@article.ImageUrl" alt="Kurt" style="max-width: 250px">
                            }
                        </a>
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading">@article.Title</h4>
                        <p>@article.Content</p>
                    </div>
                </div>
            </div>
        </div>
    }
}